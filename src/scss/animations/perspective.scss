@import '../_mixins.scss';
@import '../_vars.scss';

@mixin visible-transform($placement) {
  @if ($placement == 'top') {
    transform: perspective(700px) translateY(0) rotateX(0);
  } @else if ($placement == 'bottom') {
    transform: perspective(700px) translateY(0) rotateX(0);
  } @else if ($placement == 'left') {
    transform: perspective(700px) translateX(0) rotateY(0);
  } @else if ($placement == 'right') {
    transform: perspective(700px) translateX(0) rotateY(0);
  }
}

@mixin hidden-transform($placement) {
  @if ($placement == 'top') {
    transform: perspective(700px) translateY(10px) rotateX(60deg);
  } @else if ($placement == 'bottom') {
    transform: perspective(700px) translateY(-10px) rotateX(-60deg);
  } @else if ($placement == 'left') {
    transform: perspective(700px) translateX(10px) rotateY(-60deg);
  } @else if ($placement == 'right') {
    transform: perspective(700px) translateX(-10px) rotateY(60deg);
  }
}

.#{$namespace-prefix}-tooltip {
  @each $placement in $placements {
    &[data-placement^='#{$placement}'] {
      &[data-animation='perspective'] {
        transform-origin: nth($origins, index($placements, $placement));

        &[data-state='visible'] {
          @include visible-transform($placement);
        }

        &[data-state='hidden'] {
          @include hidden-transform($placement);
          opacity: 0;
        }
      }
    }
  }
}
